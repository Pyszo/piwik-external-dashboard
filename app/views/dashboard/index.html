<header class="row">
	<div class="col-md-11">
		<img src="/images/piwik.png" class="logo">
	
        <div class="range calendarpick">
              <div ng-controller="DatepickerCtrl">
            <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="dt" is-open="opened" min-date="minDate" max-date="maxDate" format="dd.MM.yyyy" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />

            <i class="glyphicon glyphicon-calendar pick" ng-click="open($event)" ></i>
        </div>

	</div>
	</div>
	<div class="col-md-1 add-widget">
    <div ng-controller="ModalCtrl">
    <script type="text/ng-template" id="myModalContent.html">
        <div class="modal-header">
            <h3 class="modal-title">add new module</h3>
        </div>
        <div class="modal-body">
            choose module type:
            <div ng-controller="ReportsCtrl">
                <div ng-repeat="categoryReports in allReportsByCategory">
                    {{ categoryReports.0.category }}

                    <div ng-repeat="report in categoryReports">
                        <div class="btn-group" dropdown is-open="status.isopen">
                        <button type="button" class="btn btn-sm dropdown-toggle" ng-disabled="disabled">
                            {{ report.name }} <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                            <li><a ng-click="addReport(report, 'table')" href="#">Table</a></li>
                            <li><a ng-click="addReport(report, 'evolution')" href="#">Evolution</a></li>
                            <li><a ng-click="addReport(report, 'bar')" href="#">Bar</a></li>
                            <li><a ng-click="addReport(report, 'pie')" href="#">Pie</a></li>
                        </ul>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()"><span class="glyphicon glyphicon-ok" ></span> OK</button>
            <button class="btn btn-warning" ng-click="cancel()"> <span class="glyphicon glyphicon-remove" ></span> Cancel</button>
        </div>
    </script>
    <span class="glyphicon glyphicon-plus" ng-click="open()"></span>
    
</div>
		
	</div>
</header>
<div class="row">
  <div class="col-md-4">
      <div class="report widget" ng-repeat="report in reports track by $index" module="{{ report.module }}" action="{{ report.action }}">
          <div ng-if="report.visualization == 'evolution'" evolution-vis></div>
          <div ng-if="report.visualization == 'bar'" bar-vis></div>
          <div ng-if="report.visualization == 'pie'" pie-vis></div>
          <div ng-if="report.visualization == 'table'" tablevis></div>
      </div>
  </div>
</div>

<div class="row">
    <div class="col-md-4">
        <div class="report widget" module="UserSettings" action="getResolution">
            <div bar-vis></div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-4">
        <div class="report widget" module="UserSettings" action="getResolution">
            <div pie-vis></div>
        </div>
    </div>
</div>

<div ng-show="selected">Selection from a modal: {{ selected }}</div>

